// export default function PrivacyPolicy(){
//     return (
//     <div className="container">
//     <div className="row justify-content-center my-20">
//         <div className="col-md-9 col-10">
//             <div className="section-title-five text-center mb-30">
//                 <h2 className="title capitalize">PRIVACY POLICY</h2>
//                 <span className="sub-title">INFOTEK, INC.</span>
//                 <p>LAST REVISED ON: SEPTEMBER 22, 2023</p>
//             </div>
//             <div>
//                 <p className="text-sm my-4">
//                     This privacy policy (<span className="font-semibold">“Policy”</span>) describes how InfoTek, Inc. and its related companies
//                     (<span className="font-semibold">“Company”</span>) collect, use and share personal information of consumer users of this website,
//                     www.slaythebear.com (the <span className="font-semibold">“Site”</span>). This Policy also applies to any of our other websites that post
//                     this Policy. This Policy does not apply to websites that post different statements.
//                 </p>
//                 <section id="accounts">
//                     <h2 className="font-bold">WHAT WE COLLECT</h2>
//                     <p className="text-sm my-3">
//                         We get information about you in a range of ways.
//                     </p>
//                     <div class="section-content">
//                         <h3 className="font-medium">Information You Give Us</h3>
//                         <p className="text-sm my-3 ml-md-10 ml-0">
//                             We collect your name, postal address, email address, phone
//                             number, fax number, username, password, demographic information (such as your
//                             gender and occupation) as well as other information you directly give us on our Site.
//                         </p>
//                         <h3 className="font-medium">Information We Get From Others</h3>
//                         <p className="text-sm my-3 ml-md-10 ml-0">
//                             We may get information about you from other
//                             sources. We may add this to information we get from this Site.
//                         </p>
//                         <h3 className="font-medium">Information Automatically Collected</h3>
//                         <p className="text-sm my-3 ml-md-10 ml-0">
//                             We automatically log information about you and
//                             your computer. For example, when visiting our Site, we log your computer operating
//                             system type, browser type, browser language, the website you visited before browsing to
//                             our Site, pages you viewed, how long you spent on a page, access times and
//                             information about your use of and actions on our Site.
//                         </p>
//                         <h3 className="font-medium">Cookies</h3>
//                         <p className="text-sm my-3 ml-md-10 ml-0">
//                             We may log information using “Cookies”. Cookies are small data files stored on
//                             your hard drive by a website. We may use both session Cookies (which expire once you
//                             close your web browser) and persistent Cookies (which stay on your computer until you
//                             delete them) to provide you with a more personal and interactive experience on our Site.
//                             This type of information is collected to make the Site more useful to you and to tailor the
//                             experience with us to meet your special interests and needs.

//                         </p>
//                     </div>
//                     <h2 className="font-bold">USE OF PERSONAL INFORMATION</h2>
//                     <p className="text-sm my-3">
//                         We use your personal information as follows:
//                     </p>
//                     <ul>
//                         <li className="my-2">
//                             We use your personal information to operate, maintain, and improve our sites, products,
//                             and services.
//                         </li>
//                         <li className="my-2">
//                             We use your personal information to process and deliver contest entries and rewards.
//                         </li>
//                         <li className="my-2">
//                             We use your personal information to respond to comments and questions and provide
//                             customer service.
//                         </li>
//                         <li className="my-2">
//                             We use your personal information to send information including confirmations, invoices,
//                             technical notices, updates, security alerts, and support and administrative messages.
//                         </li>
//                         <li className="my-2">
//                             We use your personal information to communicate about promotions, upcoming events,
//                             and other news about products and services offered by us and our selected partners.
//                         </li>
//                         <li className="my-2">
//                             We use your personal information to link or combine user information with other personal
//                             information.
//                         </li>
//                         <li className="my-2">
//                             We use your personal information to protect, investigate, and deter against fraudulent,
//                             unauthorized, or illegal activity.
//                         </li>
//                         <li className="my-2">
//                             We use your personal information to provide and deliver products and services
//                             customers request.
//                         </li>
//                     </ul>
//                     <h2 className="font-bold">SHARING OF PERSONAL INFORMATION</h2>
//                     <p className="text-sm my-3">
//                         We may share personal information as follows:
//                     </p>
//                     <ul>
//                         <li className="my-2">
//                             We may share personal information with your consent. For example, you may let us
//                             share personal information with others for their own marketing uses. Those uses will be
//                             subject to their privacy policies.
//                         </li>
//                         <li className="my-2">
//                             We may share personal information when we do a business deal, or negotiate a
//                             business deal, involving the sale or transfer of all or a part of our business or assets.
//                             These deals can include any merger, financing, acquisition, or bankruptcy transaction or
//                             proceeding.
//                         </li>
//                         <li className="my-2">
//                             We may share personal information for legal, protection, and safety purposes.
//                             <ul style={{listStyleType: 'circle'}}>
//                                 <li className="my-2">
//                                     We may share information to comply with laws.
//                                 </li>
//                                 <li className="my-2">
//                                     We may share information to respond to lawful requests and legal processes.
//                                 </li>
//                                 <li className="my-2">
//                                     We may share information to protect the rights and property of InfoTek, Inc., our
//                                     agents, customers, and others. This includes enforcing our agreements, policies,
//                                     and terms of use.
//                                 </li>
//                                 <li className="my-2">
//                                     We may share information in an emergency. This includes protecting the safety
//                                     of our employees and agents, our customers, or any person
//                                 </li>
//                             </ul>
//                         </li>
//                         <li className="my-2">
//                             We may share information with those who need it to do work for us.
//                         </li>
//                     </ul>
//                     <p className="text-sm my-3">
//                         We may also share aggregated and/or anonymized data with others for their own uses.
//                     </p>
//                     <h2 className="font-bold">INFORMATION CHOICES AND CHANGES</h2>
//                     <p className="text-sm my-3">
//                         Our marketing emails tell you how to “opt-out.” If you opt out, we may still send you nonmarketing emails. Non-marketing emails include emails about your accounts and our business
//                         dealings with you.
//                     </p>
//                     <p className="text-sm my-3">
//                         You may send requests about personal information to our Contact Information below. You can
//                         request to change contact choices, opt-out of our sharing with others, and update your personal
//                         information.
//                     </p>
//                     <p className="text-sm my-3">
//                         You can typically remove and reject cookies from our Site with your browser settings. Many
//                         browsers are set to accept cookies until you change your settings. If you remove or reject our
//                         cookies, it could affect how our Site works for you.
//                     </p>
//                     <h2 className="font-bold">CONTACT INFORMATION</h2>
//                     <p className="text-sm my-3">
//                         We welcome your comments or questions about this privacy policy.
//                         You may also contact us at our address:
//                     </p>
//                     <p className="text-sm my-1 ml-md-10 ml-0">
//                         InfoTek, Inc.
//                     </p>
//                     <p className="text-sm my-1 ml-md-10 ml-0">
//                         P.O. Box 993
//                         Holbrook, New York 11741
//                     </p>
//                     <p className="text-sm my-1 ml-md-10 ml-0">
//                         Email: 
//                         <a className="ml-3" href="mailto:info@slaythebear.com">info@slaythebear.com</a>
//                     </p>
//                     <h2 className="font-bold my-3">CHANGES TO THIS PRIVACY POLICY</h2>
//                     <p className="text-sm my-3">
//                         We may change this privacy policy. If we make any
//                         changes, we will change the Last Updated date above.
//                     </p>
//                 </section>
//             </div>
//         </div>
//     </div>
// </div>
//     )
// }

'use client'

import { useEffect, useState } from "react";
import { legalService, type PrivacyPolicyData } from "@/services/legal.service";
import { LoaderCircleIcon } from "@/app/components/loader/LoadingCircle";

export default function PrivacyPolicy() {
    const [policy, setPolicy] = useState<PrivacyPolicyData | null>(null);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        const fetchPolicy = async () => {
            try {
                const { data } = await legalService.getPrivacyPolicy();
                setPolicy(data.data);
            } catch {
                // Error handled by errorHandler
            } finally {
                setLoading(false);
            }
        };
        fetchPolicy();
    }, []);

    if (loading) {
        return (
            <div className="flex justify-center items-center min-h-screen">
                <LoaderCircleIcon />
            </div>
        );
    }

    if (!policy) {
        return (
            <div className="container">
                <div className="row justify-content-center my-20">
                    <div className="col-md-9 col-10 text-center">
                        <p className="text-sm">Failed to load Privacy Policy. Please try again later.</p>
                    </div>
                </div>
            </div>
        );
    }

    return (
        <div className="container">
            <div className="row justify-content-center my-20">
                <div className="col-md-9 col-10">
                    <div className="section-title-five text-center mb-30">
                        <h2 className="title capitalize">{policy.title}</h2>
                        <span className="sub-title capitalize">{policy.companyName}</span>
                        <p>LAST REVISED ON: {policy.lastUpdated?.toUpperCase()}</p>
                    </div>

                    <div>
                        <p className="text-sm my-4">
                            This privacy policy (&quot;Policy&quot;) describes how {policy.companyName} and its related companies
                            (&quot;Company&quot;) collect, use and share personal information of consumer users of this website,{' '}
                            <a href={`https://${policy.websiteUrl}`}>{policy.websiteUrl}</a> (the &quot;Site&quot;). This Policy also
                            applies to any of our other websites that post this Policy. This Policy does not apply to websites
                            that post different statements.
                        </p>

                        <section id="accounts">
                            {policy.sections?.map((section) => (
                                <div key={section.id}>
                                    <h2 className="font-bold">{section.title}</h2>

                                    {section.subsections && (
                                        <div className="section-content">
                                            {section.subsections.map((sub) => (
                                                <div key={sub.id}>
                                                    <h3 className="font-medium">{sub.title}</h3>
                                                    <p className="text-sm my-3 ml-md-10 ml-0">{sub.content}</p>
                                                </div>
                                            ))}
                                        </div>
                                    )}

                                    {section.items && (
                                        <div className="section-content">
                                            <p className="text-sm my-3">{section.content}</p>
                                            <ul className="text-sm">
                                                {section.items.map((item, index) => (
                                                    <li key={index} className="text-sm my-2 ml-md-10 ml-0">{item}</li>
                                                ))}
                                            </ul>
                                        </div>
                                    )}

                                    {section.contact && (
                                        <div className="section-content">
                                            <p className="text-sm my-3">{section.content}</p>
                                            <p className="text-sm my-1 ml-md-10 ml-0">{section.contact.company}</p>
                                            <p className="text-sm my-1 ml-md-10 ml-0">
                                                {section.contact.address}, {section.contact.city}, {section.contact.state} {section.contact.zip}
                                            </p>
                                            <p className="text-sm my-1 ml-md-10 ml-0">
                                                Email:{' '}
                                                <a className="ml-3" href={`mailto:${section.contact.email}`}>
                                                    {section.contact.email}
                                                </a>
                                            </p>
                                        </div>
                                    )}

                                    {!section.subsections && !section.items && !section.contact && (
                                        <p className="text-sm my-3">{section.content}</p>
                                    )}
                                </div>
                            ))}
                        </section>
                    </div>
                </div>
            </div>
        </div>
    );
}